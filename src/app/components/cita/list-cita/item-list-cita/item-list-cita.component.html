<article
  class="schedule__appointment"
  *ngFor="let c of citasService.listCitasSelected"
  [ngClass]="{
    'appointment-pending': c.estado === 'Pendiente',
    'appointment-approved': c.estado === 'Aprobada',
    'appointment-in-progress': c.estado === 'En progreso',
    'appointment-completed': c.estado === 'Completada',
    'appointment-cancelled': c.estado.includes('Cancelada'),
    'appointment-missed': c.estado === 'No asistiÃ³'
  }"
>
  <time class="schedule__appointment-time" [attr.datetime]="c.hora">
    {{ c.hora }}
  </time>
  <a
    [ngClass]="{
      active: !!c.servicio.length,
      'schedule__appointment-details': true
    }"
    [routerLink]="c._id ? ['/dashboard/citas', c._id] : ['/citas/create']"
    (click)="setSelectedDate(c.hora)"
  >
    <span class="schedule__appointment-top">
      <h3 class="schedule__appointment-title">
        {{
          c.servicio.length && c.servicio[0].categoria
            ? c.servicio[0].categoria
            : "Disponible"
        }}
      </h3>

      <p>
        {{
          c.servicio.length && c.servicio[0].duracion
            ? c.servicio[0].duracion + " min."
            : ""
        }}
      </p>
    </span>

    <span class="appointment-status" *ngIf="c.estado">
      {{ c.estado }}
    </span>

    <small *ngIf="c.celular"> Tel: {{ c.celular }} </small>

    <small>
      {{
        c.servicio.length > 1
          ? "+" + (c.servicio.length - 1) + " Servicio(s)"
          : !c.servicio.length
          ? "Solicitar Cita"
          : ""
      }}
    </small>
  </a>
</article>
